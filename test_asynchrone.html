<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test asynchrone</title>
</head>
<body>
    
    <script>

        
        const loadScript = (script) =>
        {
            return new Promise((resolve, reject) => {
                // créer un élément
                let element = document.createElement('script');
                element.src = script;
                document.head.append(element);
                
                // promesse réalisée
                element.onload = () => resolve(`Fichier ${script} a été chargé`);
                
                // Promesse rompue / échec
                element.onerror = () => reject(new Error(`Erreur script non chargé ${script}`));
                
            });
        }

        const myPromise = loadScript('test_files/test_asynchronous.js');

        myPromise.then(
            function(result)
            {                
                console.log(result);                
            },
            function(error)
            {
                console.log(error);
            }
        );
        
        // const sayHello = () =>
        // {
            //     console.log('Hello ');
            // }
            
        // setTimeout(sayHello, 4000);
        // console.log('Thomas'); 

        // let i = 0;
        // console.log('timer started');        
        // while(i < 10000000000)
        // i++;    
        // console.log('timer ended');
    </script>
</body>
</html>